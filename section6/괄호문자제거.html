<script>
    function solution(s){
        let answer = "";
        let temp = Array.from(s);
        let stack = [];
        for(let x of temp){
            if(stack.length===0){
                if(x ==='(') stack.push(x);
                else answer +=x;
            }else{
                if(x ==='(') stack.push(x);
                else if(x ===')'){
                    stack.pop();
                }
            }
        }
        return answer;
    }
    let str="(A(BC)D)EF(G(H)(IJ)K)LM(N)";
    console.log(solution(str));
</script>