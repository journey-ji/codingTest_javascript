<script>
    function solution(n,arr){
        let answer =0;
        let graph = Array.from({length:n+1},()=>Array.from({length:n+1},()=>0));
        let ch = Array.from({length:n+1},()=>0);
        let path = [];
        for(i=0;i<arr.length;i++){
            graph[arr[i][0]][arr[i][1]] = 1;
        }
        function DFS(v){
            if(v===n){
                console.log(path);
                answer ++;
                return;
            }
            // 현재 받아온 v에 대하여, graph[v][1~n] = 1 이라면
            // DFS(1~n) 을 수행
            // 단, ch안에 해당 수가 존재할 경우, 다음으로 !
            for(let i=1;i<=n;i++){
                if(i===v || ch[i] || !graph[v][i]) continue;
                ch[i] = 1;
                path.push(i);
                DFS(i);
                ch[i] = 0;
                path.pop();
            }
        }
        ch[1]=1;
        path.push(1);
        DFS(1);
        
        return answer;
    }
    let arr=[[1, 2], [1, 3], [1, 4], [2, 1], [2, 3], [2, 5], [3, 4], [4, 2], [4, 5]];
    console.log(solution(5, arr));
</script>